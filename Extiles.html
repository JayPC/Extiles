<html> 
    <head>

    </head>
    <body style="text-align:center;">
        <table style="margin:auto;">
            <tr>
                <td>Sprite Size:</td> 
                <td><input type='text' id='spriteSize' placeholder="Sprite Size" value="16" /></td>
            </tr>
            
            <tr>
                <td>Extrude Size:</td> 
                <td><input type='text' id='extrudeSize' placeholder="Extrude Size" value="1" /></td>
            </tr>
            
            <tr>
                <td>Show Animation:</td> 
                <td><input type='checkbox' id='showAnimation' /></td>
            </tr>
            
            <tr>
                <td>Animation Time(ms):</td> 
                <td><input type='text' id='animationTime' placeholder="Animation Time" value="60" /></td>
            </tr>

        </table>

        <input type='file' id='imgfile' />
        <input type='button' id='btnLoad' value='Load' onclick='loadImage();' /><br>
    
        <canvas id="canvas">Your Browser does not support canvas</canvas><br>
        <b>Instructions:</b>
        <div style="text-align:left; width:500px; margin:auto;">
            <ol>
                <li>Set your sprite size</li>
                <li>Set your Extrude Size</li>
                <li>Choose the file</li>
                <li>Click Load</li>
            <ol>
        </div>
        Click here to save! <a href="#" class="button" id="btn-download">Download</a>
        <script>
            var input, file, fr, img;
            function loadImage() {
                if (typeof window.FileReader !== 'function') {
                    write("The file API isn't supported on this browser yet.");
                    return;
                }
                
                input = document.getElementById('imgfile');
                if (!input) {
                    write("Um, couldn't find the imgfile element.");
                } else if (!input.files) {
                    write("This browser doesn't seem to support the `files` property of file inputs.");
                } else if (!input.files[0]) {
                    write("Please select a file before clicking 'Load'");
                } else {
                    file = input.files[0];
                    fr = new FileReader();
                    fr.onload = createImage;
                    fr.readAsDataURL(file);
                }
            }

            //Create and load the image 
            function createImage() {
                img = new Image();
                img.onload = imageLoaded;
                img.src = fr.result;
            }

            // function imageLoaded() {
            //     //
            //     var canvas = document.getElementById("canvas")
            //     canvas.width = img.width;
            //     canvas.height = img.height;
            //     var ctx = canvas.getContext("2d");
            //     ctx.drawImage(img,0,0);
            //     alert(canvas.toDataURL("image/png"));
            // }
        

            function write(msg) {
                console.log(msg);
                // var p = document.createElement('p');
                // p.innerHTML = msg;
                // document.body.appendChild(p);
            }
        </script>
        <script type="text/javascript" src="imageExtruder.js"></script>
    </body>
</html>